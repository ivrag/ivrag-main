function xhr(){this.xhr=new XMLHttpRequest,this.run=function(a,b){this.xhr.open(a.toUpperCase(),b),this.xhr.send()},this.get=function(a,b,c){this.xhr.onload=function(){if(200===this.status&&4===this.readyState){var a=this.responseText;c(a)}},this.xhr.open(a.toUpperCase(),b),this.xhr.send()},this.getJson=function(a,b,c){this.xhr.onload=function(){if(200===this.status&&4===this.readyState){var a=this.responseText;let b;try{b=JSON.parse(a)}catch(a){return console.error("xhr: invalid json data..."),!1}c(b)}},this.xhr.open(a.toUpperCase(),b,c),this.xhr.send()},this.post=function(a,b,c,d){let e="",f=0;for(const[g,h]of Object.entries(d))e+=f==Object.keys(d).length-1?g+"="+encodeURIComponent(h):g+"="+encodeURIComponent(h)+"&",f++;"GET"===a.toUpperCase()&&(this.xhr.onload=function(){if(200===this.status&&4===this.readyState){var a=this.responseText;c(a)}},this.xhr.open(a.toUpperCase(),b+"?"+e),this.xhr.send()),"POST"===a.toUpperCase()&&(this.xhr.onload=function(){if(200===this.status&&4===this.readyState){var a=this.responseText;c(a)}},this.xhr.open(a.toUpperCase(),b),this.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.xhr.send(e))},this.sendFiles=function(a={}){let b={};b.url=a.url,b.callback=a.callback,b.progress=a.progress,b.data=a.data,this.xhr.upload.addEventListener("progress",function(b){let c=b.lengthComputable?100*(b.loaded/b.total):void 0;a.progress({e:b,loaded:b.loaded,total:b.total,percent:c})},!1),this.xhr.onload=function(){if(200===this.status&&4===this.readyState){var b=this.responseText;a.callback(b)}},this.xhr.open("POST",b.url),this.xhr.send(b.data)},this.abort=function(){this.xhr.abort()},this.info=function(){console.info("run(str(method),str(url));"),console.info("get(str(method), str(url), callback());"),console.info("post(str(method), str(url), callback(), obj(data));"),console.info("sendFiles({\n  url: str(),\n  data: obj(FormData),\n  progress: function({e, loaded, total, percent}),\n  callback: function(rsp)\n});"),console.info("Form Data explanation: https://developer.mozilla.org/en-US/docs/Web/API/FormData/Using_FormData_Objects"),console.log("abort();")}}